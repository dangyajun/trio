% $Id$
%
% Copyright (C) 1998 Bjorn Reese and Daniel Stenberg.
%
% Permission to use, copy, modify, and distribute this software for any
% purpose with or without fee is hereby granted, provided that the above
% copyright notice and this permission notice appear in all copies.
%
% THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
% WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
% MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE AUTHORS AND
% CONTRIBUTORS ACCEPT NO RESPONSIBILITY IN ANY CONCEIVABLE MANNER.

\documentclass{article}
\usepackage{latex2man}

\begin{Name}{3}{strio}{Bjorn Reese and Daniel Stenberg}{TRIO}{strio}
StrAlloc,
StrAppend,
StrAppendMax,
StrContains,
StrCopy,
StrCopyMax,
StrDuplicate,
StrDuplicateMax,
StrEqual,
StrEqualMax,
StrEqualCase,
StrEqualCaseMax,
StrError,
StrFormat,
StrFormatMax,
StrFormatDateMax,
StrFree,
StrHash,
StrIndex,
StrIndexLast,
StrLength,
StrMatch,
StrMatchCase,
StrScan,
StrSpanFunction,
StrSubstring,
StrSubstringMax,
StrTokenize,
StrToDouble,
StrToFloat,
StrToLong,
StrToUnsignedLong,
StrToUpper
- string functions
\end{Name}

\section{Synopsis}

\texttt{cc \Dots\ -ltrio -lm}

\texttt{\#include $<$strio.h$>$}

See section Functions below for the prototypes of the string functions.


\section{Description}
This package renames, fixes, and extends the C string handling functions.

\subsection{Naming}
Renaming is done to provide more clear names, to provide a consistant naming
and argument policy, and to hide portability issues.\\
\begin{itemize}
\item All functions starts with "Str".\\
\item Target is always the first argument, if present, except where the target
is optional, such as \texttt{StrToDouble()}.
\item Functions requiring a size for target ends with "Max", and the size is
always the second argument.
\end{itemize}

\subsection{Fixing}
Fixing is done to avoid subtle error conditions.
For example, \texttt{strncpy()} does not terminate the result with a zero if
the source string is bigger than the maximal length, so technically the result
is not a C string anymore. \texttt{StrCopyMax()} makes sure that the result is
zero terminated.

\subsection{Extending}
Extending is done to provide a richer set of fundamental functions.
This includes wildcard matching (\texttt{StrMatch()}) and calculation of
hash values (\texttt{StrHash()}).

\section{Functions}

\begin{description}
\item \texttt{char *StrAlloc(size_t size);}\\
Allocate a string with \Arg{size} characters (including terminating zero).
This string is freed again with \texttt{StrFree()}.

\item \texttt{char *StrAppend(char *target, char *source);}\\
Append \texttt{source} at the end of \Arg{target}.

\item \texttt{char *StrAppendMax(char *target, size_t max, const char *source);}\\
Append \Arg{source} at the end of \Arg{target}. Make sure that the result
does not exceed \Arg{max} characters. \Arg{max} must be greater than the
length of \Arg{target}.

\item \texttt{int StrContains(const char *string, const char *substring);}\\
Returns true if \Arg{string} contains at least one appearance of
\Arg{substring}.

\item \texttt{char *StrCopy(char *target, const char *source);}\\
Copy the contents of \Arg{source} to \Arg{target}.

\item \texttt{char *StrCopyMax(char *target, size_t max, const char *source);}\\
Copy the contents of \Arg{source} to \Arg{target}. Make sure that the
result does not exceed \Arg{max} characters. Excessive characters are
discarded in the result.

\item \texttt{char *StrDuplicate(const char *source);}\\
Allocate a new string which contains a copy of \Arg{source}.

\item \texttt{char *StrDuplicateMax(const char *source, size_t max);}\\
Allocate a new string which contains a copy of \Arg{source}. At most
\Arg{max} characters are allocated and copied to the result.

\item \texttt{int StrEqual(const char *first, const char *second);}\\
Return true if \Arg{first} and \Arg{second} are equal.
Not case-sensitive.

\item \texttt{int StrEqualMax(const char *first, size_t max, const char *second);}\\
Return true if at most the first \Arg{max} characters of \Arg{first} and
\Arg{second} are equal. Not case-sensitive.

\item \texttt{int StrEqualCase(const char *first, const char *second);}\\

\item \texttt{int StrEqualCaseMax(const char *first, size_t max, const char *second);}\\

\item \texttt{const char *StrError(int errno);}\\

\item \texttt{int StrFormat(char *target, const char *format, ...);}\\

\item \texttt{int StrFormatMax(char *target, size_t max, const char *format, ...);}\\

\item \texttt{int StrFormatDateMax(char *target, size_t max, const char *format, const struct tm *datetime);}\\

\item \texttt{int StrFree(char *target);}\\
Free a string allocated by \texttt{StrAlloc()}, \texttt{StrDuplicate()}, or
\texttt{StrDuplicateMax()}.

\item \texttt{unsigned long StrHash(const char *source, int type);}\\

\item \texttt{char *StrIndex(char *string, int character);}\\

\item \texttt{char *StrIndexLast(char *string, int character);}\\

\item \texttt{size_t StrLength(char *source);}\\

\item \texttt{int StrMatch(char *string, char *pattern);}\\

\item \texttt{int StrMatchCase(char *string, char *pattern);}\\

\item \texttt{int StrScan(char *source, const char *format, ...);}\\

\item \texttt{size_t StrSpanFunction(char *target, int (*Function)(int));}\\

\item \texttt{char *StrSubstring(const char *string, const char *substring);}\\

\item \texttt{char *StrSubstringMax(const char *string, size_t max, const char *substring);}\\

\item \texttt{char *StrTokenize(char *target, const char *delimiter);}\\

\item \texttt{double StrToDouble(const char *source, const char **target);}\\

\item \texttt{float StrToFloat(const char *source, const char **target);}\\

\item \texttt{long StrToLong(const char *source, const char **target, int base);}\\

\item \texttt{unsigned long StrToUnsignedLong(const char *source, const char **target, int base);}\\

\item \texttt{int StrToUpper(char *target);}\\
\end{description}

\section{See Also}
\Cmd{trio_printf}{3},
\Cmd{trio_scanf}{3}

\section{Legal Issues}
Copyright \copyright\ 1998-2000 Bjorn Reese and Daniel Stenberg.

Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE AUTHORS AND
CONTRIBUTORS ACCEPT NO RESPONSIBILITY IN ANY CONCEIVABLE MANNER.
